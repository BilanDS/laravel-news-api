# Laravel News API Project

RESTful API для керування новинами зі складною динамічною структурою. Проєкт реалізовано як демонстрацію навичок побудови архітектури API, обробки медіафайлів та створення професійної документації.

## Технологічний стек
* **Framework:** Laravel 11/12
* **Starter Kit:** Laravel Breeze (API Stack)
* **Authentication:** Laravel Sanctum (Bearer Token)
* **Database:** MySQL
* **Documentation:** Swagger (OpenAPI 3.0), Postman
* **File Storage:** Laravel Storage (Local disk)

## Особливості конфігурації

Проєкт використовує **Laravel Breeze** (API Stack) як основу для автентифікації. Для забезпечення стабільної роботи API-документації та коректної обробки Bearer-токенів у середовищі Swagger, було внесено зміни до конфігурації **Sanctum** (`config/sanctum.php`).

Режим `stateful` було обмежено, щоб уникнути конфліктів із CSRF-захистом при запитах із локального домену (localhost):

```php
'stateful' => explode(',', env('SANCTUM_STATEFUL_DOMAINS', ''))
```

## Ключовий функціонал
* **Система блоків контенту:** Новини будуються через конструктор блоків (текст, зображення), що дозволяє створювати гнучкий контент у межах одного ресурсу.
* **Автоматизоване керування медіа:** Реалізовано логіку очищення сховища — старі зображення видаляються з диска при оновленні або видаленні новини.
* **Фільтрація та пошук:** Підтримка повнотекстового пошуку за заголовками та описом, а також фільтрація за ID автора.
* **Безпека та авторизація:** Використання Policies для перевірки прав доступу (користувач може редагувати та видаляти лише власні записи).
* **Цілісність даних:** Використання DB Transactions для гарантування коректного збереження новини та всіх її пов'язаних блоків.

## Документація та тестування
Проєкт повністю задокументований для швидкої перевірки рев'ювером:

* **Swagger UI:** Інтерактивна документація доступна за адресою `/api/documentation` після запуску сервера. Вона дозволяє виконувати запити прямо з браузера.
* **Postman Collection:** Файл `Laravel News API.postman_collection.json` знаходиться у корені проєкту. Колекція містить 12 попередньо налаштованих запитів для повного тестування API (Auth, Profile, News CRUD).

## Інструкція зі встановлення

1. Клонування репозиторію:
   ```bash
   git clone [https://github.com/BilanDS/laravel-news-api.git](https://github.com/your-username/news-api.git)
   cd news-api
   
2. Встановлення залежностей:
    ```bash
    composer install

3. Налаштування оточення:
    ```bash
    cp .env.example .env
    php artisan key:generate

4. Міграції, сидери та налаштування сховища:
    ```bash
    php artisan migrate --seed 
    php artisan storage:link
    
5. Генерація API-документації Swagger:
   ```bash
   php artisan l5-swagger:generate

6. Запуск локального сервера:
   ```bash
   php artisan serve

Сайт буде доступний за адресою: http://localhost:8000.

Сваггер буде доступний за адресою: http://localhost:8000/api/documentation.

---
Призначення проєкту: Проєкт розроблено як демонстраційне тестове завдання з метою створення масштабованої та безпечної системи RESTful API для медіа-ресурсів.
